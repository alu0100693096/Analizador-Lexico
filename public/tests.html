<!DOCTYPE html>
<html>
  <head>
    <title>Mocha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
    <link rel="stylesheet" href="tests/mocha.css" />
	<link href="global.css" rel="stylesheet" type="text/css">
	 <link rel="stylesheet" href="lib/codemirror.css">
		
	<script src="lib/codemirror.js"></script>
    <script src="mode/javascript/javascript.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  </head>
  <body>
    <p><b>Nota:</b> Hay algunos antivirus que no permiten ejecutar correctamente las pruebas (se piensan que heroku es maldad pura). Recomiendo desactivarlos con cautela o usar un explorador que no dependa del antivirus.</p>
	<p>Pruebas realizadas con Google Chrome.</p>
    <div id="mocha"></div>
	<textarea id="INPUT" name="Code">
var a = "hello"; // initialize a
var b = function(x) {
  var c = 3;
  return x+c;
};
    </textarea>
	<input id="PARSE" value=Parse type=button>
    <br>
    <pre id=OUTPUT>&lt;Sin parsear&gt;</pre>
   
	<script src="tests/chai.js"></script>
    <script src="tests/mocha.js"></script>
	
	<script src="main.js"></script>
	<script src="tokens.js"></script>
	<script src="parse.js"></script>
	
    <script>mocha.setup('tdd')</script>
    <script src="tests/tests.js"></script>
    <script>
      mocha.run();
    </script>
	
	    <!-- Script para el CodeMirror y carga de ficheros -->
    <script>
      // Generar un editor CodeMirror a partir del textarea INPUT (se borra y se reemplaza).
      var editor = CodeMirror.fromTextArea(document.getElementById("INPUT"), {
        lineNumbers: true,
        viewportMargin: Infinity
      });
	
      // VÃ©ase http://stackoverflow.com/questions/8378678/how-can-i-set-the-value-of-a-codemirror-editor-by-javascript
      function dump(fileName) {
        $.get(fileName, function (data) {
          //$("#INPUT").val(data);
  		  editor.setValue(data);
        });
      };
    </script> 
  </body>
</html>
